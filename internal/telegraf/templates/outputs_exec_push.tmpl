[[outputs.exec]]
  command = [
    "docker",
    "run",
    "--rm",
    "-i",
    "-v", "/etc/uptime-kuma-agent:/config:ro",
    "-v", "{{.HostLogDirectory}}:{{.InternalLogDirectory}}",
    "{{.DockerImage}}",
    "push-metric",
    "--monitor", "{{.MonitorName}}",
    "--group", "{{.Group}}",
    "--token", "{{.Token}}"
  ]

  namepass = ["{{.Metric}}"]
  fieldpass = ["{{.Field}}"]
{{if .Filesystem}}
  [outputs.exec.tagpass]
    path = ["{{.Filesystem}}"]
{{end}}
{{if .ContainerName}}
  [[outputs.exec.tagpass]]
    container_name = ["{{.ContainerName}}"]
{{end}}
